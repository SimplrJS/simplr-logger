!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("path"),require("fs"),require("os"));else if("function"==typeof define&&define.amd)define(["path","fs","os"],r);else{var t="object"==typeof exports?r(require("path"),require("fs"),require("os")):r(e.path,e.fs,e.os);for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,function(e,r,t){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=7)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});!function(e){e[e.None=0]="None",e[e.Critical=1]="Critical",e[e.Error=2]="Error",e[e.Warning=4]="Warning",e[e.Information=8]="Information",e[e.Debug=16]="Debug",e[e.Trace=32]="Trace"}(r.LogLevel||(r.LogLevel={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){return function(){}}();r.MessageHandlerBase=n},function(e,r,t){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(3),s=function(){function e(e){this.configuration=n({},this.defaultConfiguration(),this.configuration)}return e.prototype.defaultConfiguration=function(){return{WriteMessageHandler:void 0,LogLevel:o.LogLevel.Warning,CustomLogLevels:!1,Prefix:void 0}},e.prototype.SetWriteMessageHandler=function(e){return this.configuration.WriteMessageHandler=[e],this},e.prototype.AddWriteMessageHandler=function(e){return null==this.configuration.WriteMessageHandler&&(this.configuration.WriteMessageHandler=e),this.configuration.WriteMessageHandler=this.configuration.WriteMessageHandler.concat(e),this},e.prototype.SetLogLevel=function(e){return this.configuration.LogLevel=e,this.configuration.CustomLogLevels=!1,this},e.prototype.SetCustomLogLevels=function(e){for(var r=o.LogLevel.None,t=0,n=e;t<n.length;t++){r|=n[t]}return this.configuration.LogLevel=r,this.configuration.CustomLogLevels=!0,this},e.prototype.SetPrefix=function(e){return this.configuration.Prefix=e,this},e.prototype.Build=function(){return null==this.configuration.WriteMessageHandler&&this.SetWriteMessageHandler(new i.ConsoleMessageHandler),this.configuration},e}();r.LoggerConfigurationBuilder=s},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(0),s=t(4),a=t(9),u=function(e){function r(t){var n=e.call(this)||this;return n.defaultConfiguration={LogLevelPrefix:r.PrefixTypes.short,TimePrefix:r.PrefixTypes.short,UseColors:"undefined"==typeof window},n.configuration=o({},n.defaultConfiguration,t),n}return n(r,e),r.prototype.resolveTimePrefix=function(e){switch(this.configuration.TimePrefix){case r.PrefixTypes.none:return;case r.PrefixTypes.short:return"["+new Date(e).toLocaleTimeString()+"]";case r.PrefixTypes.full:return"["+new Date(e).toLocaleString()+"]"}},r.prototype.resolveLogLevelPrefix=function(e,t){if(e!==i.LogLevel.Trace){var n=this.configuration.UseColors?t:"";switch(this.configuration.LogLevelPrefix){case r.PrefixTypes.none:return;case r.PrefixTypes.short:return""+n+s.Helpers.GetLogLevelShortString(e)+a.ANSIColorCodes.Reset;case r.PrefixTypes.full:return""+n+s.Helpers.GetLogLevelString(e)+a.ANSIColorCodes.Reset}}},r.prototype.HandleMessage=function(e,r,t,n){var o,s="";switch(e){case i.LogLevel.None:return;case i.LogLevel.Critical:o=console.error,s+=a.ANSIColorCodes.Bright+a.ANSIColorCodes.FgWhite+a.ANSIColorCodes.BgRed;break;case i.LogLevel.Error:o=console.error,s+=a.ANSIColorCodes.FgBlack+a.ANSIColorCodes.BgRed;break;case i.LogLevel.Information:o=console.info,s+=a.ANSIColorCodes.FgGreen;break;case i.LogLevel.Warning:o=console.warn,s+=a.ANSIColorCodes.Bright+a.ANSIColorCodes.FgYellow;break;case i.LogLevel.Debug:o=console.debug;break;case i.LogLevel.Trace:o=console.trace;break;default:o=console.log}var u=[],l=this.resolveTimePrefix(t);null!=l&&u.push(l);var c=this.resolveLogLevelPrefix(e,s);if(null!=c&&u.push(c),u.length>0){var f=u.join(" ");o.apply(void 0,[f+":"].concat(n))}else o.apply(void 0,n)},r}(t(1).MessageHandlerBase);r.ConsoleMessageHandler=u,function(e){!function(e){e.none="none",e.short="short",e.full="full"}(e.PrefixTypes||(e.PrefixTypes={}))}(u=r.ConsoleMessageHandler||(r.ConsoleMessageHandler={})),r.ConsoleMessageHandler=u},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),o=function(){function e(){}return e.prototype.GetLogLevelShortString=function(e){switch(e){case n.LogLevel.Critical:return"crit";case n.LogLevel.Error:return"erro";case n.LogLevel.Warning:return"warn";case n.LogLevel.Information:return"info";case n.LogLevel.Debug:return"dbug";case n.LogLevel.Trace:return"trce";case n.LogLevel.None:default:return"none"}},e.prototype.GetLogLevelString=function(e){return n.LogLevel[e].toString()},e}();r.HelpersBuilder=o,r.Helpers=new o},function(r,t){r.exports=e},function(e,t){e.exports=r},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(8);r.LoggerBuilder=n.LoggerBuilder;var o=t(2);r.LoggerConfigurationBuilder=o.LoggerConfigurationBuilder;var i=t(0);r.LogLevel=i.LogLevel;var s=t(1);r.MessageHandlerBase=s.MessageHandlerBase;var a=t(10);r.Handlers=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(2),o=t(0),i=function(){function e(e){void 0===e&&(e=(new n.LoggerConfigurationBuilder).Build());var r=this;this.configuration=e,this.Log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.log.apply(r,[e].concat(t))},this.Debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.log.apply(r,[o.LogLevel.Debug].concat(e))},this.Info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.log.apply(r,[o.LogLevel.Information].concat(e))},this.Warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.log.apply(r,[o.LogLevel.Warning].concat(e))},this.Error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.log.apply(r,[o.LogLevel.Error].concat(e))},this.Critical=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.log.apply(r,[o.LogLevel.Critical].concat(e))}}return e.prototype.IsEnabled=function(e){return this.configuration.CustomLogLevels?(this.configuration.LogLevel&e)===e:this.configuration.LogLevel>=e},e.prototype.log=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=Date.now(),o=this.IsEnabled(e);if(o){this.configuration.Prefix&&(r=[this.configuration.Prefix].concat(r));for(var i=0,s=this.configuration.WriteMessageHandler;i<s.length;i++){s[i].HandleMessage(e,o,n,r)}}return n},e}();r.LoggerBuilder=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});!function(e){e.Reset="[0m",e.Bright="[1m",e.Dim="[2m",e.Underscore="[4m",e.Blink="[5m",e.Reverse="[7m",e.Hidden="[8m",e.FgBlack="[30m",e.FgRed="[31m",e.FgGreen="[32m",e.FgYellow="[33m",e.FgBlue="[34m",e.FgMagenta="[35m",e.FgCyan="[36m",e.FgWhite="[37m",e.BgBlack="[40m",e.BgRed="[41m",e.BgGreen="[42m",e.BgYellow="[43m",e.BgBlue="[44m",e.BgMagenta="[45m",e.BgCyan="[46m",e.BgWhite="[47m"}(r.ANSIColorCodes||(r.ANSIColorCodes={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(3);r.ConsoleMessageHandler=n.ConsoleMessageHandler;var o=t(11);r.FileMessageHandler=o.FileMessageHandler},function(e,r,t){"use strict";(function(e){var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(1),i=t(0),s=t(4),a=function(r){function o(n,o){void 0===o&&(o=void 0!==e);var i=r.call(this)||this;if(i.isServerSide=o,i.handleMessageStackCount=4,i.isServerSide){var s=t(5).normalize;i.filePathName=s(n),i.ensureDirectory()}return i}return n(o,r),o.prototype.HandleMessage=function(e,r,t,n){if(this.isServerSide){var o=this.getWriteStream(),a=n.map(function(e){switch(typeof e){case"string":return e;case"undefined":case"boolean":case"number":case"function":case"symbol":return String(e);case"object":return e instanceof Error?String(e.stack):JSON.stringify(e)}});if(e===i.LogLevel.Trace){var u=new Error,l=String(u.stack);u=void 0;var c="\n"+l.split("\n").slice(this.handleMessageStackCount,l.length).join("\n");a.push(c)}var f="["+new Date(t).toLocaleString()+"]";o.write(f+" "+s.Helpers.GetLogLevelShortString(e)+": "+a.join(" ")+this.EOL)}},o.prototype.getWriteStream=function(){var e=this;if(null!=this.writeStream)return this.writeStream;var r=t(6);return this.writeStream=r.createWriteStream(this.filePathName,{flags:"a"}),this.writeStream.on("close",function(){e.writeStream=void 0}),this.writeStream.on("error",function(e){throw e}),this.writeStream},Object.defineProperty(o.prototype,"EOL",{get:function(){return t(13).EOL},enumerable:!0,configurable:!0}),o.prototype.ensureDirectory=function(){for(var r=t(5),n=t(6),o=r.dirname(this.filePathName),i=o.split(r.sep),s=o[0]!==r.sep&&r.isAbsolute(o)?"":e.cwd(),a=0,u=i;a<u.length;a++){var l=u[a];s=r.join(s,l),l.length>0&&!n.existsSync(s)&&n.mkdirSync(s)}},o}(o.MessageHandlerBase);r.FileMessageHandler=a}).call(r,t(12))},function(e,r){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(r){try{return l.call(null,e,0)}catch(r){return l.call(this,e,0)}}}function i(){h&&g&&(h=!1,g.length?p=g.concat(p):v=-1,p.length&&s())}function s(){if(!h){var e=o(i);h=!0;for(var r=p.length;r;){for(g=p,p=[];++v<r;)g&&g[v].run();v=-1,r=p.length}g=null,h=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(r){try{return c.call(null,e)}catch(r){return c.call(this,e)}}}(e)}}function a(e,r){this.fun=e,this.array=r}function u(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var g,p=[],h=!1,v=-1;f.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];p.push(new a(e,r)),1!==p.length||h||o(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,r){e.exports=t}])});